# Dashboard Huawei Solar - 3 kolumny PE≈ÅNA SZEROKO≈öƒÜ
# Sections view - nowy layout HA kt√≥ry u≈ºywa 100% szeroko≈õci ekranu

title: Huawei Solar PV
views:
  - title: PrzeglƒÖd
    icon: mdi:solar-power
    type: sections
    max_columns: 3
    sections:
      # SEKCJA 1 (lewa kolumna)
      - type: grid
        column_span: 1
        cards:
          # Pogoda
          - type: weather-forecast
            entity: weather.forecast_dom
            show_forecast: true
            forecast_type: hourly
            show_current: true

          # Bateria - wszystko w jednej karcie
          - type: entities
            title: üîã Bateria i ZarzƒÖdzanie
            icon: mdi:battery-charging
            entities:
              # Decyzje algorytmu
              - entity: input_text.battery_decision_reason
                name: üéØ Decyzja
                icon: mdi:chart-line
              - entity: input_number.battery_target_soc
                name: üéØ Target SOC (obliczony o 04:00)
              # Status baterii
              - entity: sensor.akumulatory_stan_pojemnosci
                name: üîã Stan na≈Çadowania (SOC)
                icon: mdi:battery-80
              - entity: switch.akumulatory_ladowanie_z_sieci
                name: ≈Åadowanie z sieci
              - entity: sensor.akumulatory_status
                name: Status baterii
              - entity: sensor.akumulatory_moc_ladowania_rozladowania
                name: Moc ≈Çadowania/roz≈Çadowania
                icon: mdi:battery-charging
              # Temperatura baterii
              - entity: sensor.bateria_temperatura_maksymalna
                name: üå°Ô∏è Temperatura baterii (max)
                icon: mdi:thermometer-high
              - entity: binary_sensor.bateria_bezpieczna_temperatura
                name: ‚úÖ Bezpieczna temperatura
                icon: mdi:thermometer-check
              # Sterowanie
              - entity: select.akumulatory_tryb_pracy
                name: ‚öôÔ∏è Tryb pracy
            state_color: true

          # Wymiana z sieciƒÖ
          - type: entities
            title: Wymiana z sieciƒÖ
            icon: mdi:transmission-tower
            entities:
              - entity: sensor.pomiar_mocy_moc_czynna
                name: Moc w sieci
                icon: mdi:transmission-tower

      # SEKCJA 2 (≈õrodkowa kolumna)
      - type: grid
        column_span: 1
        cards:
          # Sezon grzewczy i temperatura
          - type: entities
            title: Sezon grzewczy i temperatura
            icon: mdi:thermometer
            entities:
              - entity: sensor.temperatura_zewnetrzna
                name: Temperatura zewnƒôtrzna
                icon: mdi:thermometer
              - entity: binary_sensor.sezon_grzewczy
                name: Sezon grzewczy aktywny
                icon: mdi:radiator
              - entity: binary_sensor.pc_co_aktywne
                name: Pompa ciep≈Ça CO aktywna
                icon: mdi:heat-pump
              - entity: binary_sensor.okno_cwu
                name: Okno CWU aktywne
                icon: mdi:water-boiler

          # Ceny energii
          - type: entities
            title: Ceny energii
            icon: mdi:cash-multiple
            entities:
              - entity: sensor.strefa_taryfowa
                name: Strefa taryfowa G12w
                icon: mdi:clock-time-four-outline
              - entity: sensor.cena_zakupu_energii
                name: Cena zakupu (z sieci)
                icon: mdi:cash-minus
              - entity: sensor.cena_sprzedazy_energii
                name: Cena sprzeda≈ºy (do sieci)
                icon: mdi:cash-plus
              - entity: sensor.rce_srednia_wieczorna
                name: RCE ≈õrednia wieczorna (19-22h)
                icon: mdi:chart-timeline
              - entity: input_text.battery_cheapest_hours
                name: RCE najta≈Ñsze godziny
                icon: mdi:currency-usd

          # Prognoza PV i bilans mocy
          - type: entities
            title: Prognoza PV i bilans mocy
            icon: mdi:solar-power-variant
            entities:
              - entity: sensor.prognoza_pv_dzisiaj
                name: Prognoza PV dzi≈õ (pozosta≈Ço)
                icon: mdi:solar-power
              - entity: sensor.prognoza_pv_jutro
                name: Prognoza PV jutro
                icon: mdi:solar-power
              - entity: sensor.prognoza_pv_6h
                name: Prognoza PV nastƒôpne 6h
                icon: mdi:solar-power-variant
              - entity: sensor.nadwyzka_pv
                name: Nadwy≈ºka PV
                icon: mdi:solar-power
              - entity: sensor.deficyt_mocy
                name: Deficyt mocy
                icon: mdi:flash-alert
              - entity: input_text.battery_storage_status
                name: üìä Analiza
                icon: mdi:clock-outline

      # SEKCJA 3 (prawa kolumna)
      - type: grid
        column_span: 1
        cards:
          # Historia mocy (24h)
          - type: history-graph
            title: Historia mocy (24h)
            hours_to_show: 24
            entities:
              - entity: sensor.inwerter_moc_czynna
                name: Moc wyj≈õciowa
              - entity: sensor.akumulatory_moc_ladowania_rozladowania
                name: Bateria
              - entity: sensor.pomiar_mocy_moc_czynna
                name: Sieƒá

          # Produkcja energii
          - type: entities
            title: Produkcja energii
            icon: mdi:chart-line
            entities:
              - entity: sensor.inwerter_dzienna_produkcja
                name: Dzienna produkcja
                icon: mdi:weather-sunny
              - entity: sensor.inwerter_godzinowy_uzysk
                name: Uzysk w ostatniej godzinie
                icon: mdi:clock-outline

  - title: Statystyki
    icon: mdi:chart-bar
    cards:
      - type: statistics-graph
        title: Bateria - ostatni tydzie≈Ñ
        stat_types:
          - mean
          - min
          - max
        entities:
          - sensor.akumulatory_stan_pojemnosci
        days_to_show: 7

      - type: statistics-graph
        title: Produkcja dzienna
        stat_types:
          - sum
        entities:
          - sensor.inwerter_dzienna_produkcja
        days_to_show: 30
        chart_type: bar
